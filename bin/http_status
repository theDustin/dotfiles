#!/usr/bin/env bash

declare -A http_status=(
    [1xx]="Informational response"
    [100]="Continue"
    [101]="Switching Protocols"
    [102]="Processing"
    [103]="Early Hints"

    [2xx]="Success"
    [200]="OK"
    [201]="Created"
    [202]="Accepted"
    [203]="Non-Authoritative Information"
    [204]="No Content"
    [205]="Reset Content"
    [206]="Partial Content"
    [207]="Multi-Status"
    [208]="Already Reported"
    [226]="IM Used"

    [3xx]="Redirection"
    [300]="Multiple Choices"
    [301]="Moved Permanently"
    [302]="Found"
    [303]="See Other"
    [304]="Not Modified"
    [305]="Use Proxy"
    [306]="Switch Proxy"
    [307]="Temporary Redirect"
    [308]="Permanent Redirect"

    [4xx]="Client errors"
    [400]="Bad Request"
    [401]="Unauthorized"
    [402]="Payment Required"
    [403]="Forbidden"
    [404]="Not Found"
    [405]="Method Not Allowed"
    [406]="Not Acceptable"
    [407]="Proxy Authentication Required"
    [408]="Request Time-out"
    [409]="Conflict"
    [410]="Gone"
    [411]="Length Required"
    [412]="Precondition Failed"
    [413]="Request Entity Too Large"
    [414]="Request-URI Too Large"
    [415]="Unsupported Media Type"
    [416]="Requested range not satisfiable"
    [417]="Expectation Failed"
    [418]="I'm a teapot"
    [422]="Unprocessable Entity"
    [423]="Locked"
    [424]="Failed Dependency"
    [425]="Unordered Collection"
    [426]="Upgrade Required"
    [428]="Precondition Required"
    [429]="Too Many Requests"
    [431]="Request Header Fields Too Large"
    [451]="Unavailable For Legal Reasons"

    [5xx]="Server errors"
    [500]="Internal Server Error"
    [501]="Not Implemented"
    [502]="Bad Gateway"
    [503]="Service Unavailable"
    [504]="Gateway Time-out"
    [505]="HTTP Version not supported"
    [506]="Variant Also Negotiates"
    [507]="Insufficient Storage"
    [508]="Loop Detected"
    [511]="Network Authentication Required"

    [103]="Checkpoint"
    [218]="This is fine"
    [419]="Page Expired"
    [420]="Method Failure"
    [420]="Enhance Your Calm"
    [430]="Request Header Fields Too Large"
    [450]="Blocked by Windows Parental Controls"
    [498]="Invalid Token"
    [499]="Token Required"
    [509]="Bandwidth Limit Exceeded"
    [526]="Invalid SSL Certificate"
    [529]="Site is overloaded"
    [530]="Site is frozen"
    [598]="(Informal convention) Network read timeout error"

    [440]="Login Time-out"
    [449]="Retry With"
    [451]="Redirect"

    [444]="No Response"
    [494]="Request header too large"
    [495]="SSL Certificate Error"
    [496]="SSL Certificate Required"
    [497]="HTTP Request Sent to HTTPS Port"
    [499]="Client Closed Request"

    [520]="Web Server Returned an Unknown Error"
    [521]="Web Server Is Down"
    [522]="Connection Timed Out"
    [523]="Origin Is Unreachable"
    [524]="A Timeout Occurred"
    [525]="SSL Handshake Failed"
    [526]="Invalid SSL Certificate"
    [527]="Railgun Error"
    [530]=""

    [460]=""
    [463]=""
)

declare -A http_status_additional=(
    [102]="WebDAV; RFC 2518"
    [103]="RFC 8297"

    [203]="since HTTP/1.1"
    [206]="RFC 7233"
    [207]="WebDAV; RFC 4918"
    [208]="WebDAV; RFC 5842"
    [226]="WebDAV; RFC 3229"

    [302]="Previously \"Moved temporarily\""
    [303]="since HTTP/1.1"
    [304]="RFC 7232"
    [305]="since HTTP/1.1"
    [307]="since HTTP/1.1"
    [308]="RFC 7538"

    [401]="RFC 7235"
    [407]="RFC 7235"
    [412]="RFC 7232"
    [413]="RFC 7231"
    [414]="RFC 7231"
    [415]="RFC 7231"
    [416]="RFC 7233"
    [416]="RFC 7233"
    [418]="April Fools' Joke; RFC 2324; RFC 7168"
    [421]="RFC 7530"
    [422]="WebDAV; RFC 4918"
    [423]="WebDAV; RFC 4918"
    [424]="WebDAV; RFC 4918"
    [425]="RFC 8470"
    [428]="RFC 6585"
    [429]="RFC 6585"
    [431]="RFC 6585"
    [451]="RFC 7725"

    [506]="RFC 2295"
    [507]="WebDAV; RFC 4918"
    [508]="WebDAV; RFC 5842"
    [510]="RFC 2774"
    [511]="RFC 6585"

    [218]="Apache Web Server"
    [419]="Laravel Framework"
    [420]="Spring Framework"
    [420]="Twitter"
    [430]="Shopify"
    [450]="Microsoft"
    [498]="Esri"
    [499]="Esri"
    [509]="Apache Web Server/cPanel"

    [440]="Microsoft Internet Information Services"
    [449]="Microsoft Internet Information Services"
    [451]="Microsoft Internet Information Services"

    [444]="nginx"
    [494]="nginx"
    [495]="nginx"
    [496]="nginx"
    [497]="nginx"
    [499]="nginx"

    [520]="Cloudflare"
    [521]="Cloudflare"
    [522]="Cloudflare"
    [523]="Cloudflare"
    [524]="Cloudflare"
    [525]="Cloudflare"
    [526]="Cloudflare"
    [527]="Cloudflare"
    [530]="Cloudflare; Error 530 is returned along with a 1xxx error"

    [460]="AWS Elastic Load Balancer"
    [463]="AWS Elastic Load Balancer"
)

code=$1
text="${http_status[$1]}"
additional="${http_status_additional[$1]}"

if [[ "$text" == "" ]] ; then
    return 1
fi

if [[ "$additional" != "" ]] ; then
    additional="($additional)"
fi

echo "$code $text $additional"
